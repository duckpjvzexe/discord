<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MediaFire Auto Download</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
body {
    min-height:100vh;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    padding:40px 20px;
    color:#fff;
}
h1 { font-size:2.2rem; margin-bottom:30px; text-align:center; text-shadow: 1px 1px 6px rgba(0,0,0,0.3);}

#cardsContainer {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    width: 100%;
    max-width: 1200px;
}
.card {
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    padding:25px 20px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover { transform: translateY(-5px); box-shadow:0 15px 35px rgba(0,0,0,0.3);}
.card img.logo {
    width:80px; height:80px; object-fit:contain; margin-bottom:15px;
    border-radius:15px; background: rgba(255,255,255,0.15); padding:10px;
}
.card p.filename { font-size:1.1rem; font-weight:500; margin-bottom:15px;}
button {
    background:#ff6b6b; border:none; padding:12px 25px; border-radius:50px; color:#fff;
    font-size:1rem; cursor:pointer; transition:0.3s; box-shadow:0 5px 15px rgba(0,0,0,0.2);
}
button:hover { background:#ff4757; transform: translateY(-3px); box-shadow:0 8px 20px rgba(0,0,0,0.3);}
.status { margin-top:10px; font-size:0.95rem; color:#f1f1f1;}
@media(max-width:800px){ #cardsContainer { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); } .card img.logo { width:60px; height:60px; } }
@media(max-width:500px){ #cardsContainer { grid-template-columns: 1fr; } }
</style>
</head>
<body>

<h1>MediaFire Auto Download</h1>

<div id="cardsContainer"></div>

<script>
const files = [
  { url: "https://www.mediafire.com/file/mdebs62owydlr11/CodexSamehwidGlobal-2.701.966.apk/file", logo: "https://upload.wikimedia.org/wikipedia/commons/3/33/Android_robot.png" },
  { url: "https://www.mediafire.com/file/EXAMPLE2/file", logo: "https://upload.wikimedia.org/wikipedia/commons/0/02/PDF_icon.svg" },
  { url: "https://www.mediafire.com/file/EXAMPLE3/file", logo: "https://upload.wikimedia.org/wikipedia/commons/8/82/Zip_icon.svg" },
  { url: "https://www.mediafire.com/file/EXAMPLE4/file", logo: "https://upload.wikimedia.org/wikipedia/commons/8/89/File_icon.png" }
];

const proxy = "https://api.allorigins.win/raw?url=";
const container = document.getElementById("cardsContainer");

files.forEach(file => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
        <img class="logo" src="${file.logo}" alt="File Logo">
        <p class="filename">ƒêang l·∫•y t√™n file...</p>
        <button disabled>T·∫£i File</button>
        <p class="status">ƒêang l·∫•y th√¥ng tin...</p>
    `;
    container.appendChild(card);

    const filenameEl = card.querySelector(".filename");
    const btn = card.querySelector("button");
    const status = card.querySelector(".status");

    fetch(proxy + encodeURIComponent(file.url))
        .then(res => res.text())
        .then(html => {
            const match = html.match(/var\s+optFileName\s*=\s*"([^"]+)"/);
            const fileName = match ? match[1] : "Kh√¥ng x√°c ƒë·ªãnh";
            filenameEl.textContent = fileName;

            const doc = new DOMParser().parseFromString(html, "text/html");
            const downloadLink = doc.querySelector("#downloadButton")?.href;

            if(!downloadLink){
                status.textContent = "Kh√¥ng l·∫•y ƒë∆∞·ª£c link üò¢";
                btn.disabled = true;
                return;
            }

            status.textContent = "S·∫µn s√†ng t·∫£i file üöÄ";
            btn.disabled = false;
            btn.onclick = () => {
                status.textContent = "ƒêang t·∫£i file... ‚è≥";
                window.location.href = downloadLink;
            }
        })
        .catch(() => { status.textContent = "L·ªói k·∫øt n·ªëi MediaFire üòµ"; });
});
</script>

</body>
</html>
